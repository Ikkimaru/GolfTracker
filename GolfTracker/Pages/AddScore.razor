@page "/addscore"
@inherits AddScoreBase
@using GolfTracker.Application.DTOs

<h3>Add Golf Score</h3>

@if (!string.IsNullOrEmpty(errorMessage))
{
    <div class="alert alert-danger">@errorMessage</div>
}

<div>
    <label for="golfCourseSelect">Select Golf Course:</label>
    <select id="golfCourseSelect" @bind="@score.GolfCourseId">
        <option value="">Select a course</option>
        @foreach (var course in golfCourses ?? Enumerable.Empty<GolfCourseDto>())
        {
            <option value="@course.Id">@course.Name</option>
        }
    </select>
</div>

<div>
    <label for="gameTypeSelect">Game Type:</label>
    <select id="gameTypeSelect" @bind="@selectedGameType">
        <option value="18">18 Holes</option>
        <option value="9">9 Holes</option>
    </select>
</div>

@if (score.HoleScores != null && score.HoleScores.Count > 0)
{
    <h4>Scores for @selectedGameType Holes:</h4>
    <div>
        @for (int i = 0; i < score.HoleScores.Count; i++)
        {
            <div>
                <label for="holeScore@(i + 1)">Score for Hole @(i + 1):</label>
                <input type="number" id="holeScore@(i + 1)" @bind="@score.HoleScores[i].Score" min="0" step="1" />
            </div>
        }
    </div>
}

<button @onclick="HandleValidSubmit">Submit Score</button>
